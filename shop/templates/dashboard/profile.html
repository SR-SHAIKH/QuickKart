{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="max-w-3xl mx-auto p-6 bg-white rounded shadow mt-6">
  <div class="flex items-center gap-4 mb-6">
    {% if request.user.profile_picture %}
      <img src="{{ request.user.profile_picture.url }}" alt="Avatar" class="w-24 h-24 rounded-full object-cover shadow">
    {% else %}
      <img src="{% static 'images/default_avatar.png' %}" alt="Avatar" class="w-24 h-24 rounded-full object-cover shadow">
    {% endif %}
    <div>
      <h2 class="text-2xl font-semibold">
        {% if request.user.get_full_name %}
          {{ request.user.get_full_name }}
        {% else %}
          {{ request.user.email }}
        {% endif %}
      </h2>
      <p class="text-sm text-gray-500 capitalize">{{ request.user.role }}</p>
    </div>
  </div>

  <div class="space-y-2 text-gray-700">
    <p><strong>Email:</strong> {{ request.user.email }}</p>
    <p><strong>Phone:</strong> {{ request.user.phone|default:"Not set" }}</p>
    <p><strong>Address:</strong> {{ request.user.address|default:"Not set" }}</p>
  </div>

  <div class="mt-6 flex flex-wrap gap-4">
    <a href="{% url 'edit_profile' %}" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">✏️ Edit Profile</a>
    <a href="{% url 'password_change' %}" class="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">🔒 Change Password</a>
    <a href="{% url 'logout' %}" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">🚪 Logout</a>
  </div>
</div>
{% endblock %}
